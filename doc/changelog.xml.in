<?xml version="1.0" encoding="UTF-8" ?>
 
<chapter id="changelog">
<?dbhtml filename="@DOC_DIR@/changelog.html" ?>

<title>GridShib-CA ChangeLog</title>
 
<sect1 id="version-@PACKAGE_VERSION@">
<title>Current Version: @PACKAGE_VERSION@</title>
<para>
<itemizedlist>
<listitem><para>Now using Config::General to parse configuration (<ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6527">Bug 6527</ulink>. No longer have coded-in default. Configuration file format has changed.</para></listitem>
<listitem><para>Added ShibInterface perl module, taking methods from CGIInterface module.</para></listitem>
<listitem><para>Added SAMLExtension perl module, basically wrapping GridShib-SAMLTools</para></listitem>
<listitem><para>If we don't find a SSOResponse when creating a SAML Extension, proceed without it but log a warning.</para></listitem>
<listitem><para>Use Mime::Base64 module instead of our own. Older versions of perl (e.g. 5.8.5 will need to have this installed.)</para></listitem>
<listitem><para>Documentation fix: Added setting of IdP.entityID for GS-SAMLTools integration (<ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=5813">Bug 5813</ulink>)</para></listitem>
<listitem><para>Added new NCSA CA certificates (f2e89fe3.0 and 9b95bbf2.0) to certificates/ directory for inclusion in trustStore</para></listitem>
</itemizedlist>
</para>
</sect1>

<sect1 id="version-1.0.0">
<title>Version: 1.0.0</title>
<para>
<itemizedlist>
<listitem><para>The IO::Socket::SSL Perl module, required by MyProxy, is now required by configure (Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=5861">Bug 5861</ulink>).</para></listitem>
<listitem><para>Renamed create-jnlp to launchGSCA.jnlp as .jnlp suffix is important on Mac (Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6719">Bug 6719</ulink>).</para></listitem>
<listitem><para>Improved reading of errors from Myproxy server (Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=4917">Bug 4917</ulink>).</para></listitem>
<listitem><para>Use CGISession.pm instead of TokenGenerator.pm for creating token used by JWS client (resolved Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6802">6802</ulink>). This adds a requirement for CGI::Session.</para></listitem>
<listitem><para>New improved JWS java client (Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=5847">5847</ulink>, <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6718">6718</ulink>).</para></listitem>
<listitem><para>Added test/test-cred.sh.in for testing credentials downloaded from GS-CA</para></listitem>
<listitem><para>Added "C=US, ST=UT, L=Salt Lake City, O=The USERTRUST Network, OU=http://www.usertrust.com, CN=UTN-USERFirst-Hardware" to trustStore for go.teragrid.org</para></listitem>
<listitem><para>Beefed up logging in launchGSCA.jnlp and generateCred.cgi (Bugs <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6770">6770</ulink> and <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6636">6636</ulink>).</para></listitem>
<listitem><para>Removed umask checking in JWS client (Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=5298">5298</ulink>).</para></listitem>
<listitem><para>Do not assume we can predict the user's DN, instead parse it from returned certificate (Cyrpt::OpenSSL::X509 Perl module now required). Remove get*DN() methods from CA.pm and move to OpenSSLCA.pm. (Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6781">6781</ulink> and <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6774">6774</ulink>.)</para></listitem>
<listitem><para>Use certificate DN hash instead of user identity for filename when logging certificate in CertRegistry.pm (Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6778">6778</ulink>). Also include timestamp in filename so that all certificates (instead of last certificate per user) are recorded.</para></listitem>
<listitem><para>Do not destroy CSRF cookie in create-jnlp (Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6771">6771</ulink>).</para></listitem>
<listitem><para>Fix untainting for ePTID in CGIInterface.pm (Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6775">6775</ulink>).</para></listitem>
<listitem><para>NameMapper.pm now uses CGIInterface.pm for REMOTE_USER and HTTP_SHIB_IDENTITY_PROVIDER (Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6782">6782</ulink>).</para></listitem>
<listitem><para>create-jnlp now adds "attachment" tag to output for non-FireFox browsers, so that Camino works correctly (Bug <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6719">6719</ulink>).</para></listitem>
<listitem><para>Minor bugs fixed: <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6129">6129</ulink></para></listitem>
</itemizedlist>
</para>
</sect1>

<sect1 id="version-0.5.2">
<title>Version: 0.5.2</title>
<para>
<itemizedlist>
<listitem><para>Hardened against CSRF attacks (see <ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=6610">Bug 6610</ulink>)</para></listitem>
<listitem><para>Added code to login.cgi to prevent clickjacking (see <ulink url="https://bugzilla.mcs.anl.gov/globus/show_bug.cgi?id=6649">Bug 6649</ulink>)</para></listitem>
<listitem><para>Changed from InQueue to InCommon in default authorizedIdps.conf file</para></listitem>
<listitem><para>Added ProtectNetwork (https://idp.protectnetwork.org/protectnetwork-idp) to default authorizedIdps.conf</para></listitem>
<listitem><para>Bug fixes: <ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=5860">5860</ulink>, <ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=6517">6517</ulink>, <ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=6522">6522</ulink>, <ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=6560">6560</ulink></para></listitem>
</itemizedlist>
</para>
</sect1>

<sect1 id="version-0.5.1">
<title>Version: 0.5.1</title>
<para>
<itemizedlist>
<listitem><para>Added clean-pod2html.sh to remove xml header from html files generated by pod2html which cause problems on the Globus web site (<ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=5894">Bug 5894</ulink>)</para></listitem>
<listitem><para>Jar file now includes version number to help prevent caching issues  (<ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=5878">Bug 5878</ulink>)</para></listitem>
<listitem><para>Removed offline-allowed elements from jnlp files to help prevent caching</para></listitem>
<listitem><para>Documentation fix: Added setting of IdP.entityID for GS-SAMLTools integration (<ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=5813">Bug 5813</ulink>)</para></listitem>
<listitem><para>Added new NCSA CA certificates (f2e89fe3.0 and 9b95bbf2.0) to certificates/ directory for inclusion in trustStore</para></listitem>
</itemizedlist>
</para>
</sect1>

<sect1 id="version-0.5.0">
<title>Version: 0.5.0</title>
<para>
<itemizedlist>
<listitem><para>'make clean' does not remove files that cannot be easily regenerated in distribution.
(<ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=5350">Bug 5350</ulink>)
</para></listitem>
<listitem><para>Use (modified) Java Cog source instead of class files. See org/globus/util/README</para></listitem>
<listitem><para>Split openssl configuration (replacing --with-openssl-path) options into --with-openssl and --with-openssl-prefix to allow for binaries to be separate from libraries and includes.</para></listitem>
<listitem><para>Fixed a number of minor issues with 'make test' and 'make test-dist'</para></listitem>
<listitem><para>Moved configuration source into conf/ subdirectory</para></listitem>
<listitem><para>Bug fix in CredentialRetriever.java:
Util.setFilePermissions() does not take octal and passing it such
causes underlying chmod call to silently fail. Fortunately since we
are enforcing a umask setting there is no security hole.</para></listitem>
<listitem><para>Remove whitespace around configuration values
(<ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=5798">Bug 5798</ulink>)
</para></listitem>
<listitem><para>Made '--quiet' argument to GridShib-SAMLTools dependent on debug configuration option so that when debug is True better output is generated.</para></listitem>
<listitem><para>check-config.pl now dumps all configuration values.</para></listitem>
<listitem><para>When running GridShib SAMLTools, check for existence of JAVA_HOME and log a warning if it doesn't exist.</para></listitem>
<listitem><para>Updated to use GridShib SAML Tools 0.3.0 and invoke so that we get correctly formatted ASN.1 in the extension with the right OID.</para></listitem>
</itemizedlist>
</para>
</sect1>

<sect1 id="version-0.4.0">
<title>Version: 0.4.0</title>
<para>
<itemizedlist>
<listitem><para>Moved documentation to docbook</para></listitem>
<listitem><para>Fixed OpenSSL CA so that it issues V3 certificates instead of V1
	(Bug (<ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=5254">5254</ulink>)</para></listitem>
<listitem><para>Added test in the form of 'make test' and 'make test-post-install'</para></listitem>
<listitem><para>Integrate GridShib SAML Tools to bind simple attribute assertion to EEC</para></listitem>
<listitem><para>Handle creating DN from mix of atttributes (Bug <ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=4889">4889</ulink>)</para></listitem>
<listitem><para>Use "DC" components for relative DN (Bug <ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=4887">4887</ulink>).</para></listitem>
<listitem><para>Added 'redirectURL' option to configure file so that JWS
	application can send browser to URL after successful credential
	download.</para></listitem>
<listitem><para>Added 'useBundledCAs' option to gridshib-ca.conf to allow turning
	off use of bundled CAs (using Java-provided default CAs instead).</para></listitem>
<listitem><para>Fallback to prompting user if CA that issued portal https
	certificate is unrecognized.
	(Bug <ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=4875">4875</ulink>).</para></listitem>
<listitem><para>configure.ac: --with-gridshib-ca-conf-dir uses ${prefix} instead 
of static '/usr/local/'</para></listitem>
<listitem><para>Added <ulink url="http://gridshib.globus.org/docs/gridshib-ca-0.3.0/https-cas.html">documentation
		for adding CA to GridShibCA.jar</ulink></para></listitem>
<listitem><para>Fixed bug
<ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=4973">4973</ulink>
causing bad CA filenames.</para></listitem>
<listitem><para>Fixed bug
<ulink url="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=4877">4877</ulink>
typos in configure.</para></listitem>
</itemizedlist>
</para>
</sect1>

<sect1 id="version-0.3.0-alpha">
<title>Version 0.3.0 Alpha</title>
<itemizedlist>
<listitem><para>Added support for <ulink url="admin/portal-delegation.html">delegation of
		X509 credential to portal</ulink> (disabled by default).</para></listitem>
<listitem><para>Run-time <ulink url="admin/install.html#conf">configuration of trusted Idps
		and portals</ulink> added.</para></listitem>
<listitem><para>Cleaned up protocol between CredentialRetriever and GridShib-CA. Use
	HTTP status code instead of own internal status header.</para></listitem>
<listitem><para>CredentialRetriever now generating key pair on client side and
	sending PKCS#10 certificate request to generateCred.pl.</para></listitem>
<listitem><para>Now builds and installs own openssl-based ca (openssl-ca)
	that allows setting of DN by GridShib CA</para></listitem>
<listitem><para>Includes GridShibCA::MyProxyCA.pm, a pure perl MyProxy client to
	allow <ulink url="admin/myproxy-ca.html">outsourcing of CA functionality to
		MyProxy</ulink>.</para></listitem>
<listitem><para>Now uses a set of <ulink url="admin/perl-modules.html">PERL modules</ulink> to
	accomplish basic tasks, which can be configured
	using <ulink url="admin/install.html#gridshib-ca.conf">gridshib-ca.conf</ulink>
	file. </para></listitem>
<listitem><para>Starting to use RFC 2253 format DNs internally.</para></listitem>
<listitem><para>CredentialRetreiver.java: Circumvent JWS installing its own
	SSLSocketFactory so that default SSLSocketFactory is used and our
	list of trusted CAs is honored.</para></listitem>
<listitem><para>Added debug support with debug and clientDebug parameters in
	configuration file.</para></listitem>
<listitem><para>Added support for requested lifetimes from user.</para></listitem>
<listitem><para>Added support for updating user's trusted certificates directory</para></listitem>
</itemizedlist>
</sect1>

<sect1 id = "version-0.2.0">
<title>Version 0.2.0</title>
<itemizedlist>
<listitem><para>Changelog started Oct 7, 2006</para></listitem>
</itemizedlist>
</sect1>

</chapter>
