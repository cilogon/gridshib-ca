<html>
<head>
<!-- $Id$ -->
<title>GridShib CA: Rerequisite Check</title>
<link rel="stylesheet" type="text/css" href="@CSS_URL@" />
</head>
@HTML_HEADER@
<!---------------------------------------------------------------------->
<!-- Scripts to detect if Java Web Start is installed -->
<!-- Taken from http://java.sun.com/j2se/1.5.0/docs/guide/javaws/developersguide/launch.html#intro -->
<!-- Netscape vesion -->
<SCRIPT LANGUAGE="JavaScript"> 
var javawsInstalled = 0;  
var javaws142Installed=0;
var javaws150Installed=0;
isIE = "false"; 
if (navigator.mimeTypes && navigator.mimeTypes.length) { 
   x = navigator.mimeTypes['application/x-java-jnlp-file']; 
   if (x) { 
      javawsInstalled = 1; 
      javaws142Installed=1;
      javaws150Installed=1;
   } 
} 
else { 
   isIE = "true"; 
} 
</SCRIPT>
<!-- IE Version -->
<SCRIPT LANGUAGE="VBScript">
on error resume next
If isIE = "true" Then
  If Not(IsObject(CreateObject("JavaWebStart.isInstalled"))) Then
     javawsInstalled = 0
  Else
     javawsInstalled = 1
  End If
  If Not(IsObject(CreateObject("JavaWebStart.isInstalled.1.4.2.0"))) Then
     javaws142Installed = 0
  Else
     javaws142Installed = 1
  End If 
  If Not(IsObject(CreateObject("JavaWebStart.isInstalled.1.5.0.0"))) Then
     javaws150Installed = 0
  Else
     javaws150Installed = 1
  End If  
End If
</SCRIPT>
<!---------------------------------------------------------------------->

<table id="check-prereq-table" width="100%">
<tr>
<td id="prereq-report-header" class="subheader">Prerequisites</td>
<td id="prereq-report-text" colspan="2">
<p class="prereq-report-text">
To download the credential to your desktop requires that you have
<a href="http://java.com/download/">Jave Runtime Environment (JRE) and
Java Web Start</a> installed on your system.
</p>

<script language="JavaScript">
if (javawsInstalled)
{
    document.write("<p class=\"prereq-report-text\">(You appear to have Java Web Start installed on your system.)</p>")
}
else
{
    document.write("<p class=\"prereq-report-text\">You do not appear to have Java Web Start installed on your system. Please use the preceding link to install Java Web Start.</p>");
}
</script>
<p class="prereq-report-text">
On Unix variant systems, your umask must be set to 077 (or more
restrictive). This prevents your web browser from creating
world-readable files that would cause the GridShib CA to be insecure
on multi-user systems.
<a href="http://gridshib.globus.org/faq.html#gridshib-ca">
More information about the GridShib CA and umasks.</a>
</p>
</td>
</tr>
<tr>
<td id="check-prereq-header" class="subheader">Check Prerequisites</td>
<td id="check-prereq" colspan="2">
  <form action="GridShibCATester.jnlp">
    <p>
      <input type="submit" value="Check Prerequisites"/>
    </p>
</form>
<p id="check-prereq-text">
  If clicking on the button fails to launch the GridShib CA Testing
  application after a minute then you do not have Java Web Start
  correctly installed.
</p>
</td></tr>
<tr>
<td id="back-header" class="subheader">Back to GridShib CA</td>
<td id="back-text" colspan="2">
  <p>
    <a href="index.html">Return to GridShib CA</a>
  </p>
</td></tr>
</table>
@HTML_FOOTER@
</html>
